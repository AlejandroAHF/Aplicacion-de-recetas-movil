<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/home"></ion-back-button>
    </ion-buttons>
    <ion-title>{{ recipeData.name }}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-card>
    <!-- ✅ Imagen -->
    <img [src]="recipeData.image" [alt]="recipeData.name" *ngIf="recipeData.image">
    
    <ion-card-header>
      <ion-card-title>{{ recipeData.name }}</ion-card-title>
    </ion-card-header>

    <ion-card-content>
      <!-- ✅ Información básica -->
      <div class="info-grid">
        <ion-chip *ngIf="recipeData.difficulty">
          <ion-label>Dificultad: {{ recipeData.difficulty }}</ion-label>
        </ion-chip>
        
        <ion-chip *ngIf="recipeData.prepTimeMinutes">
          <ion-label>Prep: {{ recipeData.prepTimeMinutes }} min</ion-label>
        </ion-chip>
        
        <ion-chip *ngIf="recipeData.cookTimeMinutes">
          <ion-label>Cocción: {{ recipeData.cookTimeMinutes }} min</ion-label>
        </ion-chip>
        
        <ion-chip *ngIf="recipeData.servings">
          <ion-label>Porciones: {{ recipeData.servings }}</ion-label>
        </ion-chip>

        <ion-chip *ngIf="recipeData.caloriesPerServing">
          <ion-label>Calorías: {{ recipeData.caloriesPerServing }}</ion-label>
        </ion-chip>

        <ion-chip *ngIf="recipeData.cuisine">
          <ion-label>Cocina: {{ recipeData.cuisine }}</ion-label>
        </ion-chip>
      </div>

      <!-- ✅ Descripción (si existe) -->
      <div *ngIf="recipeData.description" class="section">
        <h3>Descripción</h3>
        <p>{{ recipeData.description }}</p>
      </div>

      <!-- ✅ Ingredientes -->
      <div class="section" *ngIf="recipeData.ingredients && recipeData.ingredients.length > 0">
        <h3>Ingredientes</h3>
        <ion-list>
          <ion-item *ngFor="let ingredient of recipeData.ingredients; let i = index">
            <ion-label>{{ i + 1 }}. {{ ingredient }}</ion-label>
          </ion-item>
        </ion-list>
      </div>

      <!-- ✅ Instrucciones -->
      <div class="section" *ngIf="recipeData.instructions && recipeData.instructions.length > 0">
        <h3>Instrucciones</h3>
        <ion-list>
          <ion-item *ngFor="let instruction of recipeData.instructions; let i = index">
            <ion-label class="ion-text-wrap">
              <strong>Paso {{ i + 1 }}:</strong> {{ instruction }}
            </ion-label>
          </ion-item>
        </ion-list>
      </div>

      <!-- ✅ Tags (solo para API dummy) -->
      <div class="section" *ngIf="apiSource === 'dummy' && recipeData.tags && recipeData.tags.length > 0">
        <h3>Tags</h3>
        <div class="tags-container">
          <ion-chip *ngFor="let tag of recipeData.tags" color="primary">
            <ion-label>{{ tag }}</ion-label>
          </ion-chip>
        </div>
      </div>

      <!-- ✅ Botón volver -->
      <ion-button expand="block" (click)="volver()" class="volver-btn">
        Volver al Inicio
      </ion-button>
    </ion-card-content>
  </ion-card>
</ion-content>