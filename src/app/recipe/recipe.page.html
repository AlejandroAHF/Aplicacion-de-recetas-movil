<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/home"></ion-back-button>
    </ion-buttons>
    <ion-title>Detalle de Receta</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <div *ngIf="recipeData; else noData">
    <!-- Imagen principal -->
    <img [src]="recipeData.image" [alt]="recipeData.name" class="recipe-image">
    
    <!-- Informaci√≥n principal -->
    <ion-card>
      <ion-card-header>
        <ion-card-title>{{ recipeData.name }}</ion-card-title>
      </ion-card-header>
      
      <ion-card-content>
        <!-- Chips de informaci√≥n r√°pida -->
        <div class="info-chips">
          <ion-chip color="primary" *ngIf="recipeData.prepTimeMinutes">
            <ion-label>‚è±Ô∏è {{ recipeData.prepTimeMinutes }} min</ion-label>
          </ion-chip>
          <ion-chip color="secondary" *ngIf="recipeData.difficulty">
            <ion-label>üç≥ {{ recipeData.difficulty }}</ion-label>
          </ion-chip>
          <ion-chip color="tertiary" *ngIf="recipeData.servings">
            <ion-label>üçΩÔ∏è {{ recipeData.servings }} porciones</ion-label>
          </ion-chip>
          <ion-chip color="success" *ngIf="recipeData.rating">
            <ion-label>‚≠ê {{ recipeData.rating }} / 5</ion-label>
          </ion-chip>
        </div>

        <!-- Tiempo de cocci√≥n -->
        <p *ngIf="recipeData.cookTimeMinutes">
          <strong>Tiempo de cocci√≥n:</strong> {{ recipeData.cookTimeMinutes }} minutos
        </p>

        <!-- Descripci√≥n -->
        <p *ngIf="recipeData.description" class="ion-text-wrap">
          <strong>Descripci√≥n:</strong> {{ recipeData.description }}
        </p>

        <!-- Cocina -->
        <p *ngIf="recipeData.cuisine">
          <strong>Tipo de cocina:</strong> {{ recipeData.cuisine }}
        </p>

        <!-- Tipo de comida -->
        <p *ngIf="recipeData.mealType && recipeData.mealType.length > 0">
          <strong>Tipo de comida:</strong> {{ recipeData.mealType.join(', ') }}
        </p>
      </ion-card-content>
    </ion-card>

    <!-- Ingredientes -->
    <ion-card *ngIf="recipeData.ingredients && recipeData.ingredients.length > 0">
      <ion-card-header>
        <ion-card-title>Ingredientes</ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <ion-list>
          <ion-item *ngFor="let ingrediente of recipeData.ingredients">
            <ion-label class="ion-text-wrap">‚úì {{ ingrediente }}</ion-label>
          </ion-item>
        </ion-list>
      </ion-card-content>
    </ion-card>

    <!-- Instrucciones -->
    <ion-card *ngIf="recipeData.instructions && recipeData.instructions.length > 0">
      <ion-card-header>
        <ion-card-title>Instrucciones</ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <ion-list>
          <ion-item *ngFor="let instruccion of recipeData.instructions; let i = index">
            <ion-label class="ion-text-wrap">
              <strong>{{ i + 1 }}.</strong> {{ instruccion }}
            </ion-label>
          </ion-item>
        </ion-list>
      </ion-card-content>
    </ion-card>

    <!-- Tags -->
    <ion-card *ngIf="recipeData.tags && recipeData.tags.length > 0">
      <ion-card-header>
        <ion-card-title>Tags</ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <ion-chip *ngFor="let tag of recipeData.tags" color="medium">
          <ion-label>{{ tag }}</ion-label>
        </ion-chip>
      </ion-card-content>
    </ion-card>

    <!-- Bot√≥n para volver -->
    <div class="ion-padding">
      <ion-button expand="block" (click)="volver()">
        Volver a recetas
      </ion-button>
    </div>
  </div>

  <!-- Mensaje si no hay datos -->
  <ng-template #noData>
    <ion-card>
      <ion-card-content class="ion-text-center">
        <p>No se encontraron datos de la receta</p>
        <ion-button (click)="volver()">Volver al inicio</ion-button>
      </ion-card-content>
    </ion-card>
  </ng-template>
</ion-content>